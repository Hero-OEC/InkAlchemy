/* Editor.js Custom Styling with StoryForge Brand Colors */

.codex-editor {
  font-family: Cairo, sans-serif !important;
  border: none !important;
  position: relative !important;
  padding-left: 70px !important; /* Add more space for toolbar */
  min-height: 200px !important;
}

.codex-editor__redactor {
  padding: 0 !important;
  border: none !important;
  position: relative !important;
}

.ce-block {
  border: none !important;
  outline: none !important;
  position: relative !important;
  margin: 8px 0 !important;
}

.ce-block__content {
  max-width: none !important;
  margin: 0 !important;
  border: none !important;
  outline: none !important;
  position: relative !important;
  z-index: 1 !important;
}

/* Paragraph styling */
.ce-paragraph {
  color: hsl(var(--color-950)) !important; /* brand-950 */
  font-family: Cairo, sans-serif !important;
  font-size: 16px;
  line-height: 1.6;
  margin: 8px 0 !important;
  border: none !important;
  outline: none !important;
}

/* Header styling */
.ce-header {
  color: hsl(var(--color-950)) !important; /* brand-950 */
  font-family: Cairo, sans-serif !important;
  font-weight: 700;
  margin: 16px 0 8px 0 !important;
  border: none !important;
  outline: none !important;
}

.ce-header[data-level="1"] {
  font-size: 2.5rem;
  color: hsl(var(--color-900)) !important; /* brand-900 */
}

.ce-header[data-level="2"] {
  font-size: 2rem;
  color: hsl(var(--color-900)) !important; /* brand-900 */
}

.ce-header[data-level="3"] {
  font-size: 1.5rem;
  color: hsl(var(--color-800)) !important; /* brand-800 */
}

.ce-header[data-level="4"] {
  font-size: 1.25rem;
  color: hsl(var(--color-800)) !important; /* brand-800 */
}

/* List styling */
.ce-list {
  color: hsl(var(--color-950)) !important; /* brand-950 */
  font-family: Cairo, sans-serif !important;
  border: none !important;
  outline: none !important;
}

.ce-list__item {
  line-height: 1.6;
  margin: 4px 0;
  border: none !important;
  outline: none !important;
}

/* Quote styling */
.ce-quote {
  background-color: hsl(var(--color-50)) !important; /* brand-50 */
  border-left: 4px solid hsl(var(--color-400)) !important; /* brand-400 */
  border-top: none !important;
  border-right: none !important;
  border-bottom: none !important;
  padding: 16px 20px;
  margin: 16px 0;
  border-radius: 8px;
  outline: none !important;
}

.ce-quote__text {
  color: hsl(var(--color-900)) !important; /* brand-900 */
  font-family: Cairo, sans-serif !important;
  font-style: italic;
  font-size: 18px;
  line-height: 1.6;
  border: none !important;
  outline: none !important;
}

.ce-quote__caption {
  color: hsl(var(--color-600)) !important; /* brand-600 */
  font-family: Cairo, sans-serif !important;
  font-size: 14px;
  margin-top: 8px;
  border: none !important;
  outline: none !important;
}

/* Code block styling */
.ce-code {
  background-color: hsl(var(--color-100)) !important; /* brand-100 */
  border: none !important;
  border-radius: 8px;
  padding: 16px;
  margin: 16px 0;
  outline: none !important;
}

.ce-code__textarea {
  background: transparent !important;
  color: hsl(var(--color-950)) !important; /* brand-950 */
  font-family: 'Monaco', 'Menlo', monospace !important;
  font-size: 14px;
  border: none !important;
  outline: none !important;
  resize: none;
}

/* Inline code styling */
.ce-inline-tool--active {
  background-color: hsl(var(--color-100)) !important; /* brand-100 */
  color: hsl(var(--color-950)) !important; /* brand-950 */
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'Monaco', 'Menlo', monospace !important;
}

/* Marker/highlight styling */
.cdx-marker {
  background-color: hsl(var(--color-300)) !important; /* brand-300 */
  color: hsl(var(--color-950)) !important; /* brand-950 */
  padding: 2px 4px;
  border-radius: 3px;
}

/* Table styling */
.tc-table {
  border-collapse: collapse;
  width: 100%;
  margin: 16px 0;
  border: none !important;
}

.tc-table__cell {
  border: 1px solid hsl(var(--color-200)) !important; /* brand-200 */
  padding: 12px;
  color: hsl(var(--color-950)) !important; /* brand-950 */
  font-family: Cairo, sans-serif !important;
}

/* Toolbar styling - Fixed positioning to prevent overlapping */
.ce-toolbar {
  background: white !important;
  border: 1px solid hsl(var(--color-200)) !important; /* brand-200 */
  border-radius: 8px !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
  z-index: 10 !important;
  position: absolute !important;
  left: -50px !important; /* Position further to the left */
  margin-top: 2px !important;
  transform: none !important;
}

.ce-toolbar--opened {
  left: -50px !important;
  transform: none !important;
}

.ce-toolbar__plus {
  color: hsl(var(--color-600)) !important; /* brand-600 */
  background: hsl(var(--color-50)) !important; /* brand-50 */
  border-radius: 6px !important;
  border: none !important;
  width: 32px !important;
  height: 32px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 2px !important;
}

.ce-toolbar__plus:hover {
  color: hsl(var(--color-950)) !important; /* brand-950 */
  background: hsl(var(--color-100)) !important; /* brand-100 */
}

.ce-toolbar__settings-btn {
  color: hsl(var(--color-600)) !important; /* brand-600 */
  border: none !important;
  width: 32px !important;
  height: 32px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 2px !important;
}

.ce-toolbar__settings-btn:hover {
  color: hsl(var(--color-950)) !important; /* brand-950 */
  background: hsl(var(--color-100)) !important; /* brand-100 */
  border-radius: 6px !important;
}

/* Inline toolbar styling */
.ce-inline-toolbar {
  background: white !important;
  border: 1px solid hsl(var(--color-200)) !important; /* brand-200 */
  border-radius: 8px !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
}

.ce-inline-tool {
  color: hsl(var(--color-600)) !important; /* brand-600 */
  border-radius: 4px !important;
  border: none !important;
}

.ce-inline-tool:hover {
  color: hsl(var(--color-950)) !important; /* brand-950 */
  background-color: hsl(var(--color-100)) !important; /* brand-100 */
}

.ce-inline-tool--active {
  color: white !important;
  background-color: hsl(var(--color-600)) !important; /* brand-600 */
}

/* Popover styling */
.ce-popover {
  background: white !important;
  border: 1px solid hsl(var(--color-200)) !important; /* brand-200 */
  border-radius: 8px !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1) !important;
}

.ce-popover-item {
  color: hsl(var(--color-950)) !important; /* brand-950 */
  font-family: Cairo, sans-serif !important;
  border-radius: 4px !important;
  border: none !important;
}

.ce-popover-item:hover {
  background-color: hsl(var(--color-100)) !important; /* brand-100 */
}

.ce-popover-item__icon {
  color: hsl(var(--color-600)) !important; /* brand-600 */
}

.ce-popover-item__title {
  color: hsl(var(--color-950)) !important; /* brand-950 */
  font-weight: 500;
}

.ce-popover-item__description {
  color: hsl(var(--color-600)) !important; /* brand-600 */
}

/* Delimiter styling */
.ce-delimiter {
  text-align: center;
  margin: 24px 0;
  border: none !important;
  outline: none !important;
}

.ce-delimiter::before {
  content: "***";
  color: hsl(var(--color-400)) !important; /* brand-400 */
  font-size: 24px;
  letter-spacing: 8px;
}

/* Focus and selection styling */
.ce-block--selected .ce-block__content {
  background-color: hsl(var(--color-50)) !important; /* brand-50 */
  border-radius: 6px;
  border: none !important;
  outline: none !important;
  padding: 8px !important;
  margin: -8px !important;
}

.ce-block:hover .ce-block__content {
  background-color: hsl(var(--color-50)) !important; /* brand-50 but lighter */
  border-radius: 6px;
  border: none !important;
  outline: none !important;
}

/* Remove all default borders and outlines */
.ce-block,
.ce-block__content,
.ce-paragraph,
.ce-header,
.ce-list,
.ce-quote,
.ce-code,
.ce-delimiter {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Fix toolbar positioning issues */
.ce-toolbar--opened ~ .ce-block {
  position: relative !important;
}

/* Ensure text is never overlapped by toolbar */
.ce-block--selected {
  margin-left: 0 !important;
}

.ce-toolbar__actions {
  position: relative !important;
}

/* Fix settings menu positioning */
.ce-settings {
  position: absolute !important;
  left: -40px !important;
  top: 0 !important;
  z-index: 4 !important;
}

/* Placeholder styling */
.ce-paragraph[data-placeholder]::before {
  color: hsl(var(--color-400)) !important; /* brand-400 */
  font-family: Cairo, sans-serif !important;
}

/* Link tool styling */
.ce-link-tool {
  color: hsl(var(--color-950)) !important; /* brand-950 */
  font-family: Cairo, sans-serif !important;
  border: none !important;
  outline: none !important;
}

.ce-link-tool__input {
  background: white !important;
  border: 1px solid hsl(var(--color-200)) !important; /* brand-200 */
  color: hsl(var(--color-950)) !important; /* brand-950 */
  font-family: Cairo, sans-serif !important;
}

.ce-link-tool__input:focus {
  border-color: hsl(var(--color-400)) !important; /* brand-400 */
  outline: none !important;
}

/* Settings button styling */
.ce-settings {
  background: white !important;
  border: 1px solid hsl(var(--color-200)) !important; /* brand-200 */
  border-radius: 8px !important;
}

.ce-settings__button {
  color: hsl(var(--color-600)) !important; /* brand-600 */
  border: none !important;
}

.ce-settings__button:hover {
  color: hsl(var(--color-950)) !important; /* brand-950 */
  background: hsl(var(--color-100)) !important; /* brand-100 */
}

/* Additional cleanup for unwanted borders */
.codex-editor .ce-block {
  border: none !important;
  box-shadow: none !important;
}

.codex-editor .ce-block__content::before,
.codex-editor .ce-block__content::after {
  border: none !important;
  box-shadow: none !important;
}

/* Ensure toolbar never overlaps text content */
.ce-block--focused .ce-block__content,
.ce-block--selected .ce-block__content {
  position: relative !important;
  z-index: 1 !important;
}

/* Position toolbar correctly */
.ce-toolbar {
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* Fix inline toolbar positioning */
.ce-inline-toolbar {
  z-index: 15 !important;
  position: fixed !important;
}